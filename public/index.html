<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>MyEditor Test</title>

    <link rel="stylesheet" href="./myeditor.css" />
    <style>
      body { font-family: system-ui, sans-serif; padding: 20px; }
      #toolbar { margin-bottom: 10px; }
      #editor { border: 1px solid #ddd; border-radius: 12px; padding: 12px; min-height: 180px; }
      pre { background: #f6f6f6; padding: 12px; border-radius: 12px; overflow: auto; }
      textarea { width: 100%; min-height: 80px; margin-top: 10px; }
    </style>
  </head>
  <body>
    <h2>MyEditor Test</h2>

    <div id="toolbar"></div>
    <div id="editor"></div>
    <textarea id="desc" name="desc"></textarea>

    <h3>JSON Output</h3>
    <pre id="out"></pre>

    <script src="./myeditor.umd.js"></script>
    <script>
      if (!window.MyEditor) throw new Error("MyEditor global missing");
      if (!window.MyEditor.DEFAULT_TOOLS) throw new Error("DEFAULT_TOOLS missing");

      const out = document.getElementById("out");

      window.MyEditor.createEditor("#editor", {
        textarea: "#desc",
        outputHTML: true,
        toolbar: { target: "#toolbar", tools: window.MyEditor.DEFAULT_TOOLS },
        onChange: ({ json }) => (out.textContent = JSON.stringify(json, null, 2)),
      });
    </script>
  </body>
</html>